(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/detail/detail"],{"105d":function(n,e,t){"use strict";t.r(e);var c=t("b440"),i=t.n(c);for(var o in c)"default"!==o&&function(n){t.d(e,n,(function(){return c[n]}))}(o);e["default"]=i.a},"322a":function(n,e,t){"use strict";t.r(e);var c=t("f7af"),i=t("105d");for(var o in i)"default"!==o&&function(n){t.d(e,n,(function(){return i[n]}))}(o);t("fe3f");var a,r=t("f0c5"),u=Object(r["a"])(i["default"],c["b"],c["c"],!1,null,"f4372ef0",null,!1,c["a"],a);e["default"]=u.exports},"62da":function(n,e,t){},b440:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t("1a6c");var c=t("02ee"),i=function(){t.e("components/musichead/musichead").then(function(){return resolve(t("7b71"))}.bind(null,t)).catch(t.oe)},o={data:function(){return{picUrl:"",songLyric:[],lyricIndex:0,name:"",iconPlay:"icon-zanting",isPlayRotate:!0}},methods:{formatTimeToSec:function(n){var e=n.split(":");return(Number(60*e[0])+Number(e[1])).toFixed(1)},listenLyricIndex:function(){var e=this;clearInterval(this.timer);var t=n.getBackgroundAudioManager();this.timer=setInterval((function(){for(var n=0;n<e.songLyric.length;n++){if(t.currentTime>e.songLyric[e.songLyric.length-1].time){e.lyricIndex=e.songLyric.length-1;break}t.currentTime>e.songLyric[n].time&&t.currentTime<e.songLyric[n+1].time&&(e.lyricIndex=n)}console.log(e.lyricIndex)}),500)},cancelLyricIndex:function(){clearInterval(this.timer)},handleToPlay:function(){var e=n.getBackgroundAudioManager();e.paused?e.play():e.pause()}},onLoad:function(e){var t=this;console.log(e),console.log(JSON.parse(decodeURIComponent(e.picurl))),this.picUrl=JSON.parse(decodeURIComponent(e.picurl)),this.name=e.name,(0,c.songLyric)(e.id).then((function(n){console.log(n);var e=n[1].data.lrc.lyric;console.log(e);var c=/\[([^\]]+)\]([^\[]+)/g,i=[];e.replace(c,(function(n,e,c){i.push({time:t.formatTimeToSec(e),lyric:c})})),console.log(i),t.songLyric=i})),(0,c.song)(e.id).then((function(e){var c=n.getBackgroundAudioManager();c.title=t.name,console.log(e),c.src=e[1].data.data[0].url,console.log(e[1].data.data[0].url),t.listenLyricIndex(),c.onPlay((function(){t.iconPlay="icon-zanting1",t.isPlayRotate=!0,t.listenLyricIndex()})),c.onPause((function(){t.iconPlay="icon-bofang",t.isPlayRotate=!1,t.cancelLyricIndex()}))}))},onUnload:function(){this.cancelLyricIndex()},onHide:function(){this.cancelLyricIndex()},components:{musichead:i}};e.default=o}).call(this,t("543d")["default"])},be58:function(n,e,t){"use strict";(function(n){t("e8e1");c(t("66fd"));var e=c(t("322a"));function c(n){return n&&n.__esModule?n:{default:n}}wx.__webpack_require_UNI_MP_PLUGIN__=t,n(e.default)}).call(this,t("543d")["createPage"])},f7af:function(n,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return o})),t.d(e,"a",(function(){return c}));var c={musichead:function(){return t.e("components/musichead/musichead").then(t.bind(null,"7b71"))}},i=function(){var n=this,e=n.$createElement;n._self._c},o=[]},fe3f:function(n,e,t){"use strict";var c=t("62da"),i=t.n(c);i.a}},[["be58","common/runtime","common/vendor"]]]);